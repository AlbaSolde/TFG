<!DOCTYPE html>
<html lang="en">
<head>
    <title>TFG API</title>
    <!-- <link rel="stylesheet" href="styles.css"/> -->
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <header id="header">
        <div id="logo">TFG API</div>
        <h1 id="titulo">Welcome to my API</h1>
    </header>
    
    <section class="functions">
        <article class="funct1">
            <h2 id="exponents">Exponents:</h>
                <form>
                    <div class="form-row">
                        <div class="input-group">
                            <label for="M">M</label>
                            <input type="text" id="M" placeholder="M...">
                        </div>
                        <div class="input-group">
                            <label for="TypeModulation">Type</label>
                            <select id="TypeModulation">
                                <option value="PAM">PAM</option>
                                <option value="QAM">QAM</option>
                                <option value="PSK">PSK</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="SNR">SNR</label>
                            <input type="text" id="SNR" placeholder="SNR...">
                        </div>
                        <div class="input-group">
                            <label for="R">Rate</label>
                            <input type="text" id="R" placeholder="Rate...">
                        </div>
                        <div class="input-group">
                            <label for="threshold">Threshold</label>
                            <input type="text" id="threshold" placeholder="Threshold...">
                        </div>
                    </div>
                    <button onclick="calculateExponents(event)" class="compute-error">Compute error</button>
                </form>
                <div class="result" id="result"></div>
        </article>
<!--         <article class="funct2">
            <h2 id="graphics">Graphic:</h2>
            <button onclick="generateGraph()" class="create-graphic">Create graphic</button>
        </article> -->
    </section>

    <section class="chat-section">
        <article class="chat-box">
            <h2 id="chat">Chat:</h2>
            <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Tell me...">
                <button class="send-button">&#x2191;</button>
            </div>
        </article>
    </section>

    <footer>
        <a href="#logo">Back to top</a>
        <a target="_blank" href="https://www.upf.edu/">UPF</a>
        <a href="albasoldevilla2@gmail.com">Contacta</a>
    </footer>

    <script>
function calculateExponents(event) {
    event.preventDefault(); // Previene el comportamiento predeterminado del formulario

    let M = document.getElementById('M').value;
    let SNR = document.getElementById('SNR').value;
    let R = document.getElementById('R').value;
    let threshold = document.getElementById('threshold').value;

    fetch(`/exponents?M=${M}&SNR=${SNR}&R=${R}&threshold=${threshold}`)
        .then(response => response.json())
        .then(data => {
            alert(`Result: ${data.result}`);
        })
        .catch(error => console.error('Error:', error));
}

        function generateGraph() {
            document.getElementById("plot-area").style.background = "#aaa";
        }
    </script>

</body>
</html>